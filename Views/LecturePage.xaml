<Page x:Class="Courses.LecturePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      Title="Лекція">

    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="24">
        <ui:Card MaxWidth="900" Padding="24">
            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                    <ui:SymbolIcon Symbol="Document24" FontSize="32" Margin="0,0,16,0"/>
                    <TextBlock Text="{Binding LectureTitle}"
                               FontSize="24"
                               FontWeight="Bold"
                               TextWrapping="Wrap"
                               VerticalAlignment="Center"/>
                </StackPanel>

                <Border BorderThickness="0,1,0,0"
                        BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                        Padding="0,12,0,24">
                    <StackPanel Orientation="Horizontal">
                        <ui:SymbolIcon Symbol="Person16" FontSize="14" Margin="0,0,8,0"/>
                        <TextBlock Text="{Binding LectureAuthor, StringFormat='Автор: {0}'}"
                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                   Margin="0,0,24,0"/>
                        <ui:SymbolIcon Symbol="CalendarLtr16" FontSize="14" Margin="0,0,8,0"/>
                        <TextBlock Text="{Binding LectureDate}"
                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </Border>

                <ItemsControl ItemsSource="{Binding Sections}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Margin="0,0,0,24">
                                <TextBlock Text="{Binding Heading}"
                                           FontSize="18"
                                           FontWeight="SemiBold"
                                           Margin="0,0,0,12"
                                           Visibility="{Binding Heading, Converter={StaticResource StringToVisibilityConverter}}"/>

                                <TextBlock Text="{Binding Paragraph}"
                                           TextWrapping="Wrap"
                                           FontSize="15"
                                           LineHeight="24"
                                           Margin="0,0,0,12"
                                           Visibility="{Binding Paragraph, Converter={StaticResource StringToVisibilityConverter}}"/>

                                <ItemsControl ItemsSource="{Binding ListItems}" 
                                              Visibility="{Binding ListItems.Count, Converter={StaticResource CountToVisibilityConverter}}">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Grid Margin="0,4">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <Ellipse Grid.Column="0" Width="6" Height="6" 
                                                         Fill="{DynamicResource TextFillColorPrimaryBrush}"
                                                         Margin="0,8,12,0"
                                                         VerticalAlignment="Top"/>
                                                <TextBlock Grid.Column="1"
                                                           Text="{Binding}"
                                                           TextWrapping="Wrap"
                                                           FontSize="15"
                                                           LineHeight="24"/>
                                            </Grid>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>
        </ui:Card>
    </ScrollViewer>
</Page>
